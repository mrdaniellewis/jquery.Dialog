!function(i,e){"use strict";function t(i,e){return i.replace(/\{([^}]+)\}/g,function(i,t){return e[t]||""})}function n(){if(!b){y=i('<div class="'+_+'__mask">').hide().appendTo("body");var e=i('<div class="'+_+'" style="max-height:0;height:auto;"><p class="'+_+'__main" style="height:100px;color:red;padding:0;border:0;"></p></div>').appendTo("body");m="fixed"===e.css("position"),$=e.css("display").indexOf("flex")>-1,w=e.offset().left+1<u.width()/2,x=0===e.find("."+_+"__main").height(),e.remove(),b=!0}}function o(){var i=p.slice(-1)[0];return i?i.$dialog.is(":visible")?i:(p.pop(),o()):(r(),null)}function s(e){var t=o();if(t){var n=t.$dialog[0],s=e.target;s===n||i.contains(n,s)||t._focus(!0)}}function a(i){return i.find("a[href],input,select,textarea,button,object,[tabindex]").not(":disabled").filter(":visible")}function d(){v||(i(document).on("keydown."+_,function(i){if(!i.isDefaultPrevented()&&27===i.keyCode){i.preventDefault();var e=o();if(!e)return;e.close()}}),i("body").on("focusin."+_,function(i){setTimeout(function(){s(i)},0)}),v=!0)}function c(){i("body").add(document).off("."+_),v=!1}function l(i){var e=p.indexOf(i);-1!==e&&p.splice(e,1),p.push(i),d(),h(),y.show()}function r(i){var e=p.indexOf(i);e>-1&&p.splice(e,1),p.length?h():(y.hide(),c())}function h(){var i=0,e=p.length-1;p.forEach(function(t,n){var o=t.$dialog;i||(o.css("z-index",""),i=parseInt(o.css("z-index"),10)||1),n===e&&y.css("z-index",++i),o.css("z-index",++i)})}function f(i){return this instanceof f?(n(),this._id=++g,this.returnValue="",void this._create(i)):new f(i)}var u=i(e),_="dialog",p=[],g=0,v=!1,b=!1,y=null,m=!0,$=!0,w=!1,x=!0,k={show:function(){this.$dialog.show(),this._position(),this.openedBy=document.activeElement,this._focus(),u.on("resize."+_+":"+this._id,this._position.bind(this))},showModal:function(){l(this),this.show()},close:function(e){var t=this.$dialog;if(t.is(":visible")){this.returnValue=String(e),t.hide(),r(this),u.off("resize."+_+":"+this._id),this.openedBy&&this.openedBy.focus();var n=i.Event("close");t.trigger(n)}},destroy:function(){this.close(),this.$dialog.remove()},on:function(){var i=this.$dialog;return i.on.apply(i,arguments),this},_create:function(e){e=e||{};var n=[_,e.className||"",m?"":_+"--absolute"].join(" "),o=t('<{nodeName} class="{className}" role="{role}" aria-labelledby="{ns}-{count}-label" aria-describedby="{ns}-{count}-main" tabindex="-1">\n\n	<header class="{ns}__header">\n		<h2 id="{ns}-{count}-label" class="{ns}__title">{title}</h2>\n		<button class="dialog__close" type="button" data-action="close"><i aria-hidden="true" class="dialog__close-icon"></i><span class="dialog__close-text">{close}</span></button>\n	</header>\n\n	<div class="{ns}__main" id="{ns}-{count}-main"></div>\n\n	<footer class="{ns}__footer"></footer>\n\n</{nodeName}>',{title:e.title||"",className:n,ns:_,count:this._id,role:e.role||"dialog",close:e.closeLabel||"Close",nodeName:e.nodeName||"div"}),s=i(o).hide().appendTo("body").on("keydown",this._keydown.bind(this)).on("click","[data-action=close]",this.close.bind(this));this.$content=s.find("."+_+"__main").append(e.content),this.$footer=s.find("."+_+"__footer").append(e.footer),this.$title=s.find("."+_+"__title"),this.$dialog=s,e.destroyOnClose&&this.on("close",this.destroy.bind(this))},_position:function(){var i=this.$dialog;if(!$||!x){var e=this.$content;i.css("height",""),e.css("height","");var t=i.height(),n=i.find("."+_+"__header").outerHeight()||0,o=this.$footer.outerHeight()||0;e.height(t-n-o)}!w&&m&&i.css({marginLeft:-i.width()/2,marginTop:-i.height()/2})},_focus:function(e){var t,n=this.$dialog,o=a(n);if(e)t=o[0]||n;else{var s=n.find("."+_+"__close")[0];o=o.not(s);var d=o.filter("[autofocus]");t=d[0]||o[0]||s||n}i(t).focus()},_keydown:function(i){if(9===i.which){var e=i.target,t=a(this.$dialog);t.last().is(e)&&!i.shiftKey?(i.preventDefault(),t.eq(0).focus()):t.eq(0).is(e)&&i.shiftKey&&(i.preventDefault(),t.last().focus())}}};for(var N in k)f.prototype[N]=k[N];i.Dialog=f}(jQuery,window);
//# sourceMappingURL=jquery.dialog.min.js.map
